"use strict";(self.webpackChunkdasarpemrogramanrust=self.webpackChunkdasarpemrogramanrust||[]).push([[1494],{3905:(a,e,r)=>{r.d(e,{Zo:()=>s,kt:()=>d});var n=r(7294);function t(a,e,r){return e in a?Object.defineProperty(a,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[e]=r,a}function i(a,e){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.push.apply(r,n)}return r}function l(a){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){t(a,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(r,e))}))}return a}function o(a,e){if(null==a)return{};var r,n,t=function(a,e){if(null==a)return{};var r,n,t={},i=Object.keys(a);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(t[r]=a[r]);return t}(a,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(a,r)&&(t[r]=a[r])}return t}var p=n.createContext({}),u=function(a){var e=n.useContext(p),r=e;return a&&(r="function"==typeof a?a(e):l(l({},e),a)),r},s=function(a){var e=u(a.components);return n.createElement(p.Provider,{value:e},a.children)},k={inlineCode:"code",wrapper:function(a){var e=a.children;return n.createElement(n.Fragment,{},e)}},m=n.forwardRef((function(a,e){var r=a.components,t=a.mdxType,i=a.originalType,p=a.parentName,s=o(a,["components","mdxType","originalType","parentName"]),m=u(r),d=t,c=m["".concat(p,".").concat(d)]||m[d]||k[d]||i;return r?n.createElement(c,l(l({ref:e},s),{},{components:r})):n.createElement(c,l({ref:e},s))}));function d(a,e){var r=arguments,t=e&&e.mdxType;if("string"==typeof a||t){var i=r.length,l=new Array(i);l[0]=m;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=a,o.mdxType="string"==typeof a?a:t,l[1]=o;for(var u=2;u<i;u++)l[u]=r[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},395:(a,e,r)=>{r.r(e),r.d(e,{assets:()=>p,contentTitle:()=>l,default:()=>k,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var n=r(7462),t=(r(7294),r(3905));const i={sidebar_position:54,title:"A.54. Error \u279c Unrecoverable Error / Panic",sidebar_label:"A.54. Error \u279c Unrecoverable Error / Panic"},l=void 0,o={unversionedId:"basic/unrecoverable-panic-error",id:"basic/unrecoverable-panic-error",title:"A.54. Error \u279c Unrecoverable Error / Panic",description:"Error handling atau penanganan error adalah salah satu aspek penting dalam pemrograman selalu umum. Rust mengenal 2 jenis error yaitu unrecoverable error (panic error) dan recoverable error. Pembahasan chapter ini fokus pada unrecoverable error atau panic error.",source:"@site/docs/basic/unrecoverable-panic-error.md",sourceDirName:"basic",slug:"/basic/unrecoverable-panic-error",permalink:"/basic/unrecoverable-panic-error",draft:!1,tags:[],version:"current",sidebarPosition:54,frontMatter:{sidebar_position:54,title:"A.54. Error \u279c Unrecoverable Error / Panic",sidebar_label:"A.54. Error \u279c Unrecoverable Error / Panic"},sidebar:"tutorialSidebar",previous:{title:"A.53. File, Path, Directory",permalink:"/basic/file-path-directory"},next:{title:"A.55. Error \u279c Recoverable Error & Error Handling",permalink:"/basic/recoverable-error-handling"}},p={},u=[{value:"A.54.1. Unrecoverable error (RUNTIME error &amp; COMPILE-TIME error)",id:"a541-unrecoverable-error-runtime-error--compile-time-error",level:2},{value:"\u25c9 Perbedaan panic saat pengaksesan vector dan error saat pengaksesan array",id:"-perbedaan-panic-saat-pengaksesan-vector-dan-error-saat-pengaksesan-array",level:3},{value:"A.54.2. Macro <code>panic!()</code>",id:"a542-macro-panic",level:2},{value:"\u25c9 Statement <code>io::stdout().flush()</code>",id:"-statement-iostdoutflush",level:3},{value:"A.54.3. Kapan harus menggunakan panic error?",id:"a543-kapan-harus-menggunakan-panic-error",level:2},{value:"Catatan chapter \ud83d\udcd1",id:"catatan-chapter-",level:2},{value:"\u25c9 Source code praktik",id:"-source-code-praktik",level:3},{value:"\u25c9 Chapter relevan lainnya",id:"-chapter-relevan-lainnya",level:3},{value:"\u25c9 Referensi",id:"-referensi",level:3}],s={toc:u};function k(a){let{components:e,...i}=a;return(0,t.kt)("wrapper",(0,n.Z)({},s,i,{components:e,mdxType:"MDXLayout"}),(0,t.kt)("p",null,"Error handling atau penanganan error adalah salah satu aspek penting dalam pemrograman selalu umum. Rust mengenal 2 jenis error yaitu ",(0,t.kt)("strong",{parentName:"p"},"unrecoverable error (panic error)")," dan ",(0,t.kt)("strong",{parentName:"p"},"recoverable error"),". Pembahasan chapter ini fokus pada unrecoverable error atau panic error."),(0,t.kt)("h2",{id:"a541-unrecoverable-error-runtime-error--compile-time-error"},"A.54.1. Unrecoverable error (RUNTIME error & COMPILE-TIME error)"),(0,t.kt)("p",null,(0,t.kt)("em",{parentName:"p"},"Unrecoverable error")," adalah error yang tidak bisa ditangani, entah itu karena memang disengaja atau karena ada bug fatal yang menyebabkan program mendapati error jenis ini sehingga program ",(0,t.kt)("em",{parentName:"p"},"crash")," dan berhenti secara paksa."),(0,t.kt)("p",null,"Salah satu operasi yang menyebabkan panic adalah pengaksesan elemen vector menggunakan index di luar kapasitas vector. Contoh:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-rust"},'fn main() {\n    let data = vec![10, 11, 23];\n\n    println!("data index 1: {}", data[1]);\n    println!("data index 6: {}", data[6]);\n    println!("data index 2: {}", data[2]);\n}\n')),(0,t.kt)("p",null,"Pengaksesan index ke-6 vector ",(0,t.kt)("inlineCode",{parentName:"p"},"data")," menghasilkan panic karena vector tersebut hanya berisi 3 elemen."),(0,t.kt)("p",null,(0,t.kt)("img",{loading:"eager",fetchpriority:"high",alt:"Error Handling, Panic, Operator ?",src:r(5767).Z,width:"727",height:"182"})),(0,t.kt)("p",null,"Apa yang bisa dilakukan ketika panic muncul?"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"Jika panic muncul ketika program sudah di production, program akan crash karena bug pengaksesan error di atas."),(0,t.kt)("li",{parentName:"ul"},"Jika panic muncul saat pengembangan, maka bisa diperbaiki kodenya, bisa dengan menambahkan pengecekan kapasitas index vector atau lainnya.")),(0,t.kt)("h3",{id:"-perbedaan-panic-saat-pengaksesan-vector-dan-error-saat-pengaksesan-array"},"\u25c9 Perbedaan panic saat pengaksesan vector dan error saat pengaksesan array"),(0,t.kt)("p",null,"Coba ubah kode di atas, tipe data variabel ",(0,t.kt)("inlineCode",{parentName:"p"},"data")," ubah dari vector ke array. Lalu jalankan ulang program."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-rust"},'fn main() {\n    let data = [10, 11, 23];\n\n    println!("data index 1: {}", data[1]);\n    println!("data index 6: {}", data[6]);\n    println!("data index 2: {}", data[2]);\n}\n')),(0,t.kt)("p",null,"Error masih muncul, tapi pesan error-nya berbeda."),(0,t.kt)("p",null,(0,t.kt)("img",{loading:"lazy",alt:"Error Handling, Panic, Operator ?",src:r(5594).Z,width:"764",height:"215"})),(0,t.kt)("p",null,"2 program yang dijalankan keduanya error tapi error-nya sangat berbeda."),(0,t.kt)("table",null,(0,t.kt)("tr",null,(0,t.kt)("td",null,"Pengaksesan elemen vector di luar kapastias memunculkan error saat ",(0,t.kt)("b",null,"RUNTIME"),". Penjelasannya:")),(0,t.kt)("tr",null,(0,t.kt)("td",null,(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("strong",{parentName:"li"},"RUNTIME error")," menandakan kode program sudah berhasil dikompilasi dan program juga berhasil di eksekusi.",(0,t.kt)("ul",{parentName:"li"},(0,t.kt)("li",{parentName:"ul"},"Silakan lihat gambar pertama, ada keterangan ",(0,t.kt)("em",{parentName:"li"},"Finished")," dan ",(0,t.kt)("em",{parentName:"li"},"Running"),"."),(0,t.kt)("li",{parentName:"ul"},"Error ini masuk kategori ",(0,t.kt)("strong",{parentName:"li"},"panic-level error")," atau ",(0,t.kt)("strong",{parentName:"li"},"panic"),"."))),(0,t.kt)("li",{parentName:"ul"},"Error muncul ketika baris kode ",(0,t.kt)("inlineCode",{parentName:"li"},'println!("data index 6: {}", data[6]);')," dieksekusi."),(0,t.kt)("li",{parentName:"ul"},"Kode sebelum baris tersebut masih sempat dieksekusi.",(0,t.kt)("ul",{parentName:"li"},(0,t.kt)("li",{parentName:"ul"},"Silakan lihat gambar pertama, output ",(0,t.kt)("inlineCode",{parentName:"li"},"data index 1: 11")," sempat muncul sebelum error."))),(0,t.kt)("li",{parentName:"ul"},"Tipe data vector tidak tidak mampu mengetahui kapasitas datanya saat kompilasi, inilah kenapa error bisa lolos kompilasi."))))),(0,t.kt)("table",null,(0,t.kt)("tr",null,(0,t.kt)("td",null,"Sedangkan pengaksesan elemen array di luar kapastias memunculkan error saat ",(0,t.kt)("b",null,"COMPILE TIME"),". Penjelasannya:")),(0,t.kt)("tr",null,(0,t.kt)("td",null,(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("strong",{parentName:"li"},"COMPILE TIME error")," menandakan kode program gagal dikompilasi dan tidak sampai dieksekusi.",(0,t.kt)("ul",{parentName:"li"},(0,t.kt)("li",{parentName:"ul"},"Silakan lihat gambar ke-dua, ada keterangan ",(0,t.kt)("em",{parentName:"li"},"Compiling")," diikuti dengan error, dan keterangan ",(0,t.kt)("inlineCode",{parentName:"li"},"could not compile"),"."),(0,t.kt)("li",{parentName:"ul"},"Error ini masuk kategori ",(0,t.kt)("strong",{parentName:"li"},"compile-time-level error")," atau cukup ",(0,t.kt)("strong",{parentName:"li"},"error"),"."))),(0,t.kt)("li",{parentName:"ul"},"Error muncul saat compiler memproses baris kode ",(0,t.kt)("inlineCode",{parentName:"li"},'println!("data index 6: {}", data[6]);'),"."),(0,t.kt)("li",{parentName:"ul"},"Tipe data array kapasitasnya sudah bisa diketahui oleh compiler saat kompilasi, menyebabkan proses kompilasi gagal."))))),(0,t.kt)("h2",{id:"a542-macro-panic"},"A.54.2. Macro ",(0,t.kt)("inlineCode",{parentName:"h2"},"panic!()")),(0,t.kt)("p",null,"Telah kita pelajari bahwa panic muncul karena ",(0,t.kt)("em",{parentName:"p"},"flaw")," atau cacat program, disebabkan oleh bug di kode program. Selain itu, panic bisa dimunculkan dengan sengaja menggunakan macro ",(0,t.kt)("inlineCode",{parentName:"p"},"panic!()"),"."),(0,t.kt)("p",null,"Cara penggunaannya cukup dengan memanggil macro tersebut diikuti dengan argument berisi string keterangan panic errornya."),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"Bisa dibilang macro ",(0,t.kt)("inlineCode",{parentName:"p"},"panic!()")," adalah media untuk membuat ",(0,t.kt)("em",{parentName:"p"},"recoverable error")," menjadi ",(0,t.kt)("em",{parentName:"p"},"unrecoverable error"),".")),(0,t.kt)("p",null,"Pada contoh berikut, program sederhana dibuat untuk menangkap inputan nama user untuk kemudian di-print. Jika user tidak menginputkan apapun, maka panic sengaja dimunculkan via pemanggilan macro ",(0,t.kt)("inlineCode",{parentName:"p"},"panic!()"),"."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-rust"},'use std::io;\nuse std::io::Write;\n\nfn main() {\n    print!("enter your name: ");\n    let _ = io::stdout().flush();\n\n    let name = read_entry();\n    if name.is_empty() {\n        panic!("unable to continue the program");\n    }\n\n    println!("hi {}", name);\n}\n\npub fn read_entry() -> String {\n    let mut message = String::new();\n    let reader_res = io::stdin().read_line(&mut message);\n\n    if reader_res.is_err() {\n        return message;\n    }\n\n    message.trim().to_string()\n}\n')),(0,t.kt)("p",null,"Output program:"),(0,t.kt)("p",null,(0,t.kt)("img",{loading:"lazy",alt:"Error Handling, Panic, Operator ?",src:r(4274).Z,width:"719",height:"284"})),(0,t.kt)("p",null,"Program dieksekusi 2 kali:"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"Eksekusi pertama, inputan ",(0,t.kt)("inlineCode",{parentName:"li"},"noval agung")," digunakan. Hasilnya program berjalan sesuai desain."),(0,t.kt)("li",{parentName:"ol"},"Pada eksekusi ke-2, tidak ada inputan yang ditulis, dan langsung tekan tombol enter, hasilnya panic sengaja dimunculkan via macro ",(0,t.kt)("inlineCode",{parentName:"li"},"panic!()")," dengan pesan ",(0,t.kt)("inlineCode",{parentName:"li"},"unable to continue the program"),".")),(0,t.kt)("h3",{id:"-statement-iostdoutflush"},"\u25c9 Statement ",(0,t.kt)("inlineCode",{parentName:"h3"},"io::stdout().flush()")),(0,t.kt)("p",null,"Dibanding dengan beberapa chapter sebelumnya yang juga ada praktik menangkap inputan user, kode program yang ditulis kali ini disisipi statement baru yaitu ",(0,t.kt)("inlineCode",{parentName:"p"},"io::stdout().flush()"),". Kode tersebut berguna untuk mem-",(0,t.kt)("em",{parentName:"p"},"flush")," output STDOUT yang muncul, karena default output STDOUT adalah di-",(0,t.kt)("em",{parentName:"p"},"buffer")," oleh Rust."),(0,t.kt)("p",null,"Jika tidak di-flush, ada kemungkinan text ",(0,t.kt)("inlineCode",{parentName:"p"},"enter your name: ")," muncul setelah user mengisi inputan lalu menekan tombol ",(0,t.kt)("em",{parentName:"p"},"enter"),"."),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"Untuk menggunakan stdout flush, path ",(0,t.kt)("inlineCode",{parentName:"p"},"std::io::Write")," harus di-import terlebih dahulu.")),(0,t.kt)("h2",{id:"a543-kapan-harus-menggunakan-panic-error"},"A.54.3. Kapan harus menggunakan panic error?"),(0,t.kt)("p",null,"Tidak semua jenis recoverable error harus berakhir dengan panic, ini penting untuk selalu diingat. Adakalanya error perlu di-recover secara gentle, ada kalanya error harus diumumkan via panic agar program terhenti. Contohnya:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"Error ketika ada inputan yang tidak valid, maka cukup direspon dengan pesan error saja."),(0,t.kt)("li",{parentName:"ul"},"Error karena ada operasi pembagian terhadap angka ",(0,t.kt)("inlineCode",{parentName:"li"},"0"),", maka tidak perlu menggunakan panic."),(0,t.kt)("li",{parentName:"ul"},"Error karena file konfigurasi yang tidak ditemukan saat eksekusi program, ideal menggunakan panic.")),(0,t.kt)("p",null,"Tergantung tingkat ",(0,t.kt)("em",{parentName:"p"},"severity")," atau keseriusan error, silakan tentukan prosedur penanganannya seperti apa sesuai kebutuhan, juga jangan lupa pertimbangkan implikasinya."),(0,t.kt)("hr",null),(0,t.kt)("h2",{id:"catatan-chapter-"},"Catatan chapter \ud83d\udcd1"),(0,t.kt)("h3",{id:"-source-code-praktik"},"\u25c9 Source code praktik"),(0,t.kt)("pre",null,(0,t.kt)("a",{href:"https://github.com/novalagung/dasarpemrogramanrust-example/tree/master/unrecoverable_panic_error"},"github.com/novalagung/dasarpemrogramanrust-example/../unrecoverable_panic_error")),(0,t.kt)("h3",{id:"-chapter-relevan-lainnya"},"\u25c9 Chapter relevan lainnya"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"/basic/recoverable-error-handling"},"Error \u279c Recoverable Error & Error Handling"))),(0,t.kt)("h3",{id:"-referensi"},"\u25c9 Referensi"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://doc.rust-lang.org/book/ch09-01-unrecoverable-errors-with-panic.html"},"https://doc.rust-lang.org/book/ch09-01-unrecoverable-errors-with-panic.html")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://doc.rust-lang.org/book/ch09-03-to-panic-or-not-to-panic.html"},"https://doc.rust-lang.org/book/ch09-03-to-panic-or-not-to-panic.html"))))}k.isMDXComponent=!0},5767:(a,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"assets/images/unrecoverable-panic-error-1-2a22152a19c4dfb91d4f55885880fc08.png"},5594:(a,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"assets/images/unrecoverable-panic-error-2-1ffea2a5a914b4b95bb2db06c1ac9b53.png"},4274:(a,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"assets/images/unrecoverable-panic-error-3-4d90d454da4c451e1d9b6c9499ba72c6.png"}}]);